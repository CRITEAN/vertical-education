<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="view_education_crm_tags_form" model="ir.ui.view">
    <field name="name">view.education.crm.tags.form</field>
    <field name="model">education.crm.tags</field>
    <field name="arch" type="xml">
      <form string="Postponed Tags">
        <sheet>
          <group name="main">
            <field name="name"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <record id="view_wizard_crm_postponed_form" model="ir.ui.view">
    <field name="name">wizard.crm.postponed.form</field>
    <field name="model">wizard.crm.postponed</field>
    <field name="arch" type="xml">
      <form string="CRM postponed">
        <sheet>
          <group name="main">
            <field name="tag_ids" widget="many2many_tags"/>
          </group>
        </sheet>
        <footer>
          <button name="action_postponed_tag" class="oe_highlight" type="object" string="Save"/>
          or
          <button class="oe_link" special="cancel" string="Cancel"/>
        </footer>
      </form>
    </field>
  </record>

  <record id="wizard_education_crm_tag_action" model="ir.actions.act_window">
    <field name="name">Education CRM Tags</field>
    <field name="res_model">wizard.crm.postponed</field>
    <field name="src_model">crm.lead</field>
    <field name="view_mode">tree,form</field>
    <field name="view_id" ref="view_wizard_crm_postponed_form"/>
    <field name="target">new</field>
  </record>

  <record id="postponed_tags_action" model="ir.actions.act_window">
    <field name="name">Postponed Tags</field>
    <field name="res_model">education.crm.tags</field>
    <field name="view_mode">tree,form</field>
    <field name="help" type="html">
      <p class="oe_view_nocontent_create">
        Click to create a new Postponed Tags.
      </p>
    </field>
  </record>

  <record id="view_crm_form_inherit" model="ir.ui.view">
    <field name="name">view.crm.form</field>
    <field name="model">crm.lead</field>
    <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
    <field name="arch" type="xml">
      <xpath expr="//header" position="inside">
        <button string="Set posponed" class="oe_highlight" name="%(wizard_education_crm_tag_action)d" type="action" context="{}"/>
      </xpath>
      <xpath expr="//field[@name='tag_ids']" position="attributes">
        <attribute name="invisible">1</attribute>
      </xpath>
      <xpath expr="//field[@name='team_id']" position="after">
        <field name="stage" invisible="1"/>
        <field name="tag_pos_ids" widget="many2many_tags" attrs="{'invisible': [('stage', '!=', True)]}"/>
      </xpath>
    </field>
  </record>
  <record model="ir.ui.menu" id="crm.menu_crm_lead_categ">
    <field name="action" eval="False"/>
  </record>

  <menuitem id="posponed_tags_menu" parent="crm.menu_crm_config_lead" action="postponed_tags_action" sequence="20"/>

</odoo>
